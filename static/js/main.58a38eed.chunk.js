(this["webpackJsonpionic-appauth-react-demo"]=this["webpackJsonpionic-appauth-react-demo"]||[]).push([[1],{100:function(e,n,t){var r={"./ion-action-sheet.entry.js":[151,5],"./ion-alert.entry.js":[152,6],"./ion-app_8.entry.js":[153,7],"./ion-avatar_3.entry.js":[154,17],"./ion-back-button.entry.js":[155,18],"./ion-backdrop.entry.js":[156,43],"./ion-button_2.entry.js":[157,19],"./ion-card_5.entry.js":[158,20],"./ion-checkbox.entry.js":[159,21],"./ion-chip.entry.js":[160,22],"./ion-col_3.entry.js":[161,44],"./ion-datetime_3.entry.js":[162,10],"./ion-fab_3.entry.js":[163,23],"./ion-img.entry.js":[164,45],"./ion-infinite-scroll_2.entry.js":[165,46],"./ion-input.entry.js":[166,24],"./ion-item-option_3.entry.js":[167,25],"./ion-item_8.entry.js":[168,26],"./ion-loading.entry.js":[169,27],"./ion-menu_3.entry.js":[170,28],"./ion-modal.entry.js":[171,8],"./ion-nav_2.entry.js":[172,14],"./ion-popover.entry.js":[173,9],"./ion-progress-bar.entry.js":[174,29],"./ion-radio_2.entry.js":[175,30],"./ion-range.entry.js":[176,31],"./ion-refresher_2.entry.js":[177,11],"./ion-reorder_2.entry.js":[178,16],"./ion-ripple-effect.entry.js":[179,47],"./ion-route_4.entry.js":[180,32],"./ion-searchbar.entry.js":[181,33],"./ion-segment_2.entry.js":[182,34],"./ion-select_3.entry.js":[183,35],"./ion-slide_2.entry.js":[184,48],"./ion-spinner.entry.js":[185,13],"./ion-split-pane.entry.js":[186,49],"./ion-tab-bar_2.entry.js":[187,36],"./ion-tab_2.entry.js":[188,15],"./ion-text.entry.js":[189,37],"./ion-textarea.entry.js":[190,38],"./ion-toast.entry.js":[191,39],"./ion-toggle.entry.js":[192,12],"./ion-virtual-scroll.entry.js":[193,50]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=100,e.exports=a},102:function(e,n,t){var r={"./ion-icon.entry.js":[194,57]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=102,e.exports=a},147:function(e,n,t){},148:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(28),c=t.n(o),i=t(22),u=t(2),s=t(84),l=t(25),d=function(e){return a.a.createElement(u.c,null,a.a.createElement(u.e,null,"Action Data"),a.a.createElement(u.d,null,JSON.stringify(e.action)))},h=function(e){return a.a.createElement(u.c,null,a.a.createElement(u.e,null,"User Info"),a.a.createElement(u.d,null,JSON.stringify(e.user)))},m=t(5),p=t(6),f=t(90),j=t(16),b=t(53),y=t(3),g=t.n(y),v=t(12),E=t(8),O=t(9),A=t(31),w=t(89),_=t.n(w),k=function(e){Object(E.a)(t,e);var n=Object(O.a)(t);function t(){return Object(m.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"xhr",value:function(){var e=Object(v.a)(g.a.mark((function e(n){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_.a.create({timeout:1e3,headers:n.headers}),n.method||(n.method="GET"),e.t0=n.method,e.next="GET"===e.t0?5:"POST"===e.t0?6:"PUT"===e.t0?7:"DELETE"===e.t0?8:9;break;case 5:return e.abrupt("return",t.get(n.url).then((function(e){return e.data})));case 6:return e.abrupt("return",t.post(n.url,n.data).then((function(e){return e.data})));case 7:return e.abrupt("return",t.put(n.url,n.data).then((function(e){return e.data})));case 8:return e.abrupt("return",t.delete(n.url).then((function(e){return e.data})));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),t}(A.Requestor),S=f.a.App,I=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"buildAuthInstance",value:function(){var e=new j.AuthService(new b.CapacitorBrowser,new b.CapacitorSecureStorage,new k);return e.authConfig={client_id:"511828570984-7nmej36h9j2tebiqmpqh835naet4vci4.apps.googleusercontent.com",server_host:"https://accounts.google.com",redirect_url:Object(u.u)("capacitor")?"com.appauth.demo://callback":window.location.origin+"/loginredirect",end_session_redirect_url:Object(u.u)("capacitor")?"com.appauth.demo://endSession":window.location.origin+"/endredirect",scopes:"openid userinfo",pkce:!0},Object(u.u)("capacitor")&&(console.log("applistenercreated"),S.addListener("appUrlOpen",(function(n){console.log(n.url),console.log(e.authConfig.redirect_url),void 0!==n.url&&e.handleCallback(n.url)}))),e.addActionObserver(new j.ConsoleLogObserver),e}},{key:"Instance",get:function(){return this.authService||(this.authService=this.buildAuthInstance()),this.authService}}]),e}();I.authService=void 0;var x=function(e){var n,t=Object(r.useState)(j.AuthActionBuilder.Default),o=Object(l.a)(t,2),c=o[0],i=o[1];return Object(u.x)((function(){I.Instance.loadTokenFromStorage(),n=I.Instance.addActionListener((function(n){i(n),n.action!==j.AuthActions.SignInSuccess&&n.action!==j.AuthActions.LoadTokenFromStorageSuccess||e.history.replace("home")}))})),Object(u.w)((function(){I.Instance.removeActionObserver(n)})),a.a.createElement(u.h,null,a.a.createElement(u.g,null,a.a.createElement(u.l,null,a.a.createElement(u.k,null,"Logged Out"))),a.a.createElement(u.f,null,a.a.createElement(u.b,{onClick:function(e){e.preventDefault(),I.Instance.signIn()}},"Sign In"),a.a.createElement(d,{action:c})))},C=function(e){var n,t=Object(r.useState)(j.AuthActionBuilder.Default),o=Object(l.a)(t,2),c=o[0],i=o[1],s=Object(r.useState)(),m=Object(l.a)(s,2),p=m[0],f=m[1];return Object(u.x)((function(){n=I.Instance.addActionListener((function(n){i(n),n.action===j.AuthActions.SignOutSuccess&&e.history.replace("landing"),n.action===j.AuthActions.LoadUserInfoSuccess&&f(n.user)}))})),Object(u.w)((function(){I.Instance.removeActionObserver(n)})),a.a.createElement(u.h,null,a.a.createElement(u.g,null,a.a.createElement(u.l,null,a.a.createElement(u.k,null,"Logged In"))),a.a.createElement(u.f,null,a.a.createElement(u.b,{onClick:function(e){e.preventDefault(),I.Instance.loadUserInfo()}},"Get User Details"),a.a.createElement(u.b,{onClick:function(e){e.preventDefault(),I.Instance.refreshToken()}},"Refresh Token"),a.a.createElement(u.b,{onClick:function(e){e.preventDefault(),I.Instance.signOut()}},"Sign Out"),a.a.createElement(d,{action:c}),p&&a.a.createElement(h,{user:p})))},D=function(e){var n;return Object(u.v)((function(){I.Instance.handleCallback(window.location.origin+e.location.pathname+e.location.search),n=I.Instance.addActionListener((function(n){n.action===j.AuthActions.SignInSuccess?e.history.replace("home"):e.history.replace("landing")}))})),Object(u.w)((function(){I.Instance.removeActionObserver(n)})),a.a.createElement(u.h,null,a.a.createElement("p",null,"Signing in..."))},L=function(e){var n;return Object(u.x)((function(){I.Instance.handleCallback(window.location.origin+e.location.pathname+e.location.search),n=I.Instance.addActionListener((function(n){n.action!==j.AuthActions.SignOutSuccess&&n.action!==j.AuthActions.SignInFailed||e.history.replace("landing")}))})),Object(u.w)((function(){I.Instance.removeActionObserver(n)})),a.a.createElement(u.h,null,a.a.createElement("p",null,"Signing out..."))},T=t(93),U=["component"],N=function(e){var n=e.component,t=Object(T.a)(e,U);return a.a.createElement(i.b,Object.assign({},t,{render:function(e){return I.Instance.session.isAuthenticated?a.a.createElement(n,e):a.a.createElement(i.a,{to:"/landing"})}}))},B=(t(137),t(138),t(139),t(140),t(141),t(142),t(143),t(144),t(145),t(146),t(147),function(){return a.a.createElement(u.a,null,a.a.createElement(s.a,null,a.a.createElement(u.j,null,a.a.createElement(i.b,{path:"/landing",component:x,exact:!0}),a.a.createElement(N,{path:"/home",component:C,exact:!0}),a.a.createElement(i.b,{path:"/loginredirect",component:D,exact:!0}),a.a.createElement(i.b,{path:"/endredirect",component:L,exact:!0}),a.a.createElement(i.b,{exact:!0,path:"/",render:function(){return a.a.createElement(i.a,{to:"/landing"})}}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,n,t){e.exports=t(148)}},[[94,3,4]]]);
//# sourceMappingURL=main.58a38eed.chunk.js.map